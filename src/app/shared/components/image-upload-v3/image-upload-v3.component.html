<div class="placeholderImg">
  <!-- {{ showPlaceHolderImage() }}{{ !imgUploaded }}{{ confirmed }} -->
  <!-- <ng-container *ngIf="showPlaceHolderImage(); else cropperTemplate"> -->
  <div
    [ngClass]="{ hide: !showPlaceHolderImage() }"
    class="image--wrapper"
    (dragenter)="handleDragEnter()"
    (dragleave)="handleDragLeave()"
    (drop)="handleDrop($event)"
  >
    <label [for]="elementId">
      <ng-template #noPreview>
        <div [ngClass]="{ hidden: confirmed }">
          <ng-content select=".placeholderImg"> </ng-content>
        </div>
      </ng-template>

      <!-- {{value.base64}} -->
      <img *ngIf="value.base64 && !confirmed; else noPreview" [src]="value.base64">
      <div *ngIf="value.base64" class="img--confirmed-wrapper">
        <img class="image--confirmed" [src]="value.base64" *ngIf="confirmed" />
      </div>
    </label>
  </div>
  <!-- </ng-container> -->

  <!-- <ng-template #cropperTemplate> -->
  <div
    [ngClass]="{ hide: showPlaceHolderImage() }"
    [id]="getImgCropperWrapperId()"
  >
    <image-cropper
      #imgCropper
      [imageChangedEvent]="imageChangedEvent"
      [maintainAspectRatio]="true"
      [transform]="imageTransFormObj"
      format="png"
      roundCropper="true"
      (imageCropped)="imageCropped($event)"
      (imageLoaded)="imageLoaded()"
      (cropperReady)="cropperReady()"
      (loadImageFailed)="loadImageFailed()"
    ></image-cropper>

    <div class="controls" *ngIf="imgUploaded">
      <div class="buttons">
        <button ButtonType="round" class="zoom" (click)="zoomOut()">
          <span>-</span>
        </button>

        <button ButtonType="round" class="zoom" (click)="zoomIn()">
          <span>+</span>
        </button>
      </div>
      <div class="buttons">
        <button class="textButton" ButtonType="text" (click)="resetCropper()">
          Delete
        </button>
        <button class="textButton" ButtonType="text" (click)="onConfirm()">
          Confirm
        </button>
      </div>
    </div>
  </div>
  <!-- </ng-template> -->
</div>

<input
  [id]="elementId"
  #file
  name="file"
  class="file"
  type="file"
  (change)="fileChangeEvent($event)"
/>
